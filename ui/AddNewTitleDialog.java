/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * AddNewTitleDialog.java
 *
 * in progress: Mitch 17 April
 * Created on Apr 12, 2011, 11:09:04 PM
 */

package ui;

import javax.swing.SpinnerNumberModel;
import javax.swing.JOptionPane;
import java.util.GregorianCalendar;
import inventory.*;
import java.sql.SQLException;

/**
 *
 * @author Kristan
 */
public class AddNewTitleDialog extends javax.swing.JDialog {

    /** Creates new form AddNewTitleDialog */
    public AddNewTitleDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        titleTypeAddNewTitleLabel = new javax.swing.JLabel();
        yearTypeAddNewTitleLabel = new javax.swing.JLabel();
        infoTypeAddNewTitleLabel = new javax.swing.JLabel();
        titleAddNewTitleTextField = new javax.swing.JTextField();
        yearAddNewTitleSpinner = new javax.swing.JSpinner();
        jScrollPane1 = new javax.swing.JScrollPane();
        descriptionAddNewTitleTextArea = new javax.swing.JTextArea();
        CancelAddNewTitleButton = new javax.swing.JButton();
        saveAddNewTitleButton = new javax.swing.JButton();
        genreTypeAddNewTitleLabel = new javax.swing.JLabel();
        producerTypeAddNewTitleLabel = new javax.swing.JLabel();
        actorTypeAddNewTitleLabel = new javax.swing.JLabel();
        studioTypeAddNewTitleLabel = new javax.swing.JLabel();
        ratingTypeAddNewTitleLabel = new javax.swing.JLabel();
        lengthTypeAddNewTitleLabel = new javax.swing.JLabel();
        directorTypeAddNewTitleLabel = new javax.swing.JLabel();
        genreAddNewTitleTextField = new javax.swing.JTextField();
        producerAddNewTitleTextField = new javax.swing.JTextField();
        directorAddNewTitleTextField = new javax.swing.JTextField();
        actorsAddNewTitleTextField = new javax.swing.JTextField();
        studioAddNewTitleTextField = new javax.swing.JTextField();
        ratingAddNewTitleTextField = new javax.swing.JTextField();
        lengthAddNewTitleTextField = new javax.swing.JTextField();
        skuAddNewTitleLabel = new javax.swing.JLabel();
        mediaTypeAddNewTitleLabel = new javax.swing.JLabel();
        skuAddNewTitleTextField = new javax.swing.JTextField();
        mediaTypeAddNewTitleTextField = new javax.swing.JTextField();
        retailPriceAddNewTitleTextLabel = new javax.swing.JLabel();
        retailPriceAddNewTitleTextField = new javax.swing.JTextField();
        dollarSignAddNewTitleLabel = new javax.swing.JLabel();
        synopsisAddNewTitleErrorLabel = new javax.swing.JLabel();
        priceAddNewTitleErrorLabel = new javax.swing.JLabel();
        lengthAddNewTitleErrorLabel = new javax.swing.JLabel();
        ratingAddNewTitleErrorLabel = new javax.swing.JLabel();
        studioAddNewTitleErrorLabel = new javax.swing.JLabel();
        actorsAddNewTitleErrorLabel = new javax.swing.JLabel();
        directorAddNewTitleErrorLabel = new javax.swing.JLabel();
        producerAddNewTitleErrorLabel = new javax.swing.JLabel();
        genreAddNewTitleErrorLabel = new javax.swing.JLabel();
        yearAddNewTitleErrorLabel = new javax.swing.JLabel();
        formatAddNewTitleErrorLabel = new javax.swing.JLabel();
        skuAddNewTitleErrorLabel = new javax.swing.JLabel();
        titleAddNewTitleErrorLabel = new javax.swing.JLabel();
        lengthLabelMinutesAddNewTitle = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        titleTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        titleTypeAddNewTitleLabel.setText("Title");

        yearTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        yearTypeAddNewTitleLabel.setText("Year");

        infoTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        infoTypeAddNewTitleLabel.setText("Description");

        titleAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                titleAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        descriptionAddNewTitleTextArea.setColumns(20);
        descriptionAddNewTitleTextArea.setRows(5);
        descriptionAddNewTitleTextArea.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                descriptionAddNewTitleTextAreaKeyPressed(evt);
            }
        });
        jScrollPane1.setViewportView(descriptionAddNewTitleTextArea);

        CancelAddNewTitleButton.setText("Cancel");
        CancelAddNewTitleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CancelAddNewTitleButtonActionPerformed(evt);
            }
        });

        saveAddNewTitleButton.setText("Save");
        saveAddNewTitleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveAddNewTitleButtonActionPerformed(evt);
            }
        });

        genreTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        genreTypeAddNewTitleLabel.setText("Genre");

        producerTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        producerTypeAddNewTitleLabel.setText("Producer");

        actorTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        actorTypeAddNewTitleLabel.setText("Actors");

        studioTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        studioTypeAddNewTitleLabel.setText("Studio");

        ratingTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        ratingTypeAddNewTitleLabel.setText("Rating");

        lengthTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lengthTypeAddNewTitleLabel.setText("Length");

        directorTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        directorTypeAddNewTitleLabel.setText("Director");

        genreAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                genreAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        producerAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                producerAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        directorAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                directorAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        actorsAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                actorsAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        studioAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                studioAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        ratingAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                ratingAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        lengthAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                lengthAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        skuAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        skuAddNewTitleLabel.setText("SKU");

        mediaTypeAddNewTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 11));
        mediaTypeAddNewTitleLabel.setText("Media Type");

        skuAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                skuAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        mediaTypeAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                mediaTypeAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        retailPriceAddNewTitleTextLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        retailPriceAddNewTitleTextLabel.setText("Retail Price");

        retailPriceAddNewTitleTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                retailPriceAddNewTitleTextFieldKeyPressed(evt);
            }
        });

        dollarSignAddNewTitleLabel.setText("$");

        lengthLabelMinutesAddNewTitle.setText("minutes");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(titleTypeAddNewTitleLabel)
                .addGap(92, 92, 92)
                .addComponent(titleAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(skuAddNewTitleLabel)
                .addGap(95, 95, 95)
                .addComponent(skuAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(mediaTypeAddNewTitleLabel)
                .addGap(52, 52, 52)
                .addComponent(mediaTypeAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(yearTypeAddNewTitleLabel)
                .addGap(91, 91, 91)
                .addComponent(yearAddNewTitleSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(genreTypeAddNewTitleLabel)
                .addGap(86, 86, 86)
                .addComponent(genreAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(producerTypeAddNewTitleLabel)
                .addGap(69, 69, 69)
                .addComponent(producerAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(directorTypeAddNewTitleLabel)
                .addGap(74, 74, 74)
                .addComponent(directorAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(actorTypeAddNewTitleLabel)
                .addGap(83, 83, 83)
                .addComponent(actorsAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(studioTypeAddNewTitleLabel)
                .addGap(84, 84, 84)
                .addComponent(studioAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(ratingTypeAddNewTitleLabel)
                .addGap(83, 83, 83)
                .addComponent(ratingAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(lengthTypeAddNewTitleLabel)
                .addGap(81, 81, 81)
                .addComponent(lengthAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(9, 9, 9)
                .addComponent(lengthLabelMinutesAddNewTitle))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(retailPriceAddNewTitleTextLabel)
                .addGap(66, 66, 66)
                .addComponent(dollarSignAddNewTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 8, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(2, 2, 2)
                .addComponent(retailPriceAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(infoTypeAddNewTitleLabel)
                .addGap(56, 56, 56)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(layout.createSequentialGroup()
                .addGap(250, 250, 250)
                .addComponent(saveAddNewTitleButton)
                .addGap(33, 33, 33)
                .addComponent(CancelAddNewTitleButton))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(39, 39, 39)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(titleTypeAddNewTitleLabel))
                    .addComponent(titleAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(skuAddNewTitleLabel))
                    .addComponent(skuAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(mediaTypeAddNewTitleLabel))
                    .addComponent(mediaTypeAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(yearTypeAddNewTitleLabel))
                    .addComponent(yearAddNewTitleSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(8, 8, 8)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(genreTypeAddNewTitleLabel)
                    .addComponent(genreAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(producerTypeAddNewTitleLabel)
                    .addComponent(producerAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(directorTypeAddNewTitleLabel)
                    .addComponent(directorAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(actorTypeAddNewTitleLabel)
                    .addComponent(actorsAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(20, 20, 20)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(studioTypeAddNewTitleLabel)
                    .addComponent(studioAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ratingTypeAddNewTitleLabel)
                    .addComponent(ratingAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lengthTypeAddNewTitleLabel)
                    .addComponent(lengthAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(lengthLabelMinutesAddNewTitle)))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(retailPriceAddNewTitleTextLabel)
                    .addComponent(dollarSignAddNewTitleLabel)
                    .addComponent(retailPriceAddNewTitleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(infoTypeAddNewTitleLabel)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(14, 14, 14)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(saveAddNewTitleButton)
                    .addComponent(CancelAddNewTitleButton)))
        );

        yearAddNewTitleSpinner.setModel(new SpinnerNumberModel(2011, 1888, 3000, 1));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * This method hides the dialog from view, if the user has hit the
     * cancel button.
     * @param evt
     */
    private void CancelAddNewTitleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CancelAddNewTitleButtonActionPerformed
        this.setVisible(false);
    }//GEN-LAST:event_CancelAddNewTitleButtonActionPerformed

    
    
    /**
     * This method takes the information from the fields and creates a new
     * GeneralMovie, inserting into the tables videoInfo, and physicalVideo
     * in the database
     * @param evt
     */
    private void saveAddNewTitleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveAddNewTitleButtonActionPerformed
        try
        {
            boolean stopSave = false;
            String SKU = skuAddNewTitleTextField.getText();
            if (SKU == null || SKU.trim().length() < 1)
            {
                skuAddNewTitleErrorLabel.setText("Please enter a SKU");
                stopSave = true;
            }
            else
            {
                SKU = SKU.trim();
            }
            
            String title = titleAddNewTitleTextField.getText();
            if (title == null || title.trim().length() < 1)
            {
                titleAddNewTitleErrorLabel.setText("Please enter a title");
                stopSave = true;
            }
            else
            {
                title = title.trim();
            }
            
            String actors = actorsAddNewTitleTextField.getText();
            String[] potentialActors =  actors.split(",");
            int numValidActors = 0;
            for (int i = 0; i < potentialActors.length; i++)
            {
                if (potentialActors[i] != null && potentialActors[i].trim().length() > 0)
                {
                    potentialActors[i] = potentialActors[i].trim();
                    numValidActors++;
                }
                else
                {
                    potentialActors[i] = null;
                }
            }
            if (numValidActors == 0)
            {
                actorsAddNewTitleErrorLabel.setText("Please enter actors, separated by only one comma");
                stopSave = true;
            }
            String[] validActors = new String[numValidActors];
            int validActorsIndex = 0;
            for (int i = 0; i < potentialActors.length; i++)
            {
                if (potentialActors[i] != null)
                {
                    validActors[validActorsIndex] = potentialActors[i];
                    validActorsIndex++;
                }
            }
            
            String director = directorAddNewTitleTextField.getText();
            if (director == null || director.trim().length() < 1)
            {
                directorAddNewTitleErrorLabel.setText("Please enter a director");
                stopSave = true;
            }
            else
            {
                director = director.trim();
            }
            String producer = producerAddNewTitleTextField.getText();
            if (producer == null || producer.trim().length() < 1)
            {
                producerAddNewTitleErrorLabel.setText("Please enter a producer");
                stopSave = true;
            }
            else
            {
                producer = producer.trim();
            }
            
            
            Integer year = (Integer) yearAddNewTitleSpinner.getValue(); // needs testing
            GregorianCalendar releaseDate = new GregorianCalendar(year,1,1);
            
            String synopsis = descriptionAddNewTitleTextArea.getText();
            if (synopsis == null || synopsis.trim().length() < 1)
            {
                synopsisAddNewTitleErrorLabel.setText("Please enter a synopsis");
                stopSave = true;
            }
            else
            {
                synopsis = synopsis.trim();
            }
            
            String genre = genreAddNewTitleTextField.getText();
            if (genre == null || genre.trim().length() < 1)
            {
                genreAddNewTitleErrorLabel.setText("Please enter a genre");
                stopSave = true;
            }
            else
            {
                genre = genre.trim();
            }
            String rating = ratingAddNewTitleTextField.getText();
            if (rating == null || rating.trim().length() < 1)
            {
                ratingAddNewTitleErrorLabel.setText("Please enter a rating");
                stopSave = true;
            }
            else
            {
                rating = rating.trim();
            }
            String studio = studioAddNewTitleTextField.getText();
            if (studio == null || studio.trim().length() < 1)
            {
                studioAddNewTitleErrorLabel.setText("Please enter a studio");
                stopSave = true;
            }
            else
            {
                studio = studio.trim();
            }
            String retailPriceInDollarsString = retailPriceAddNewTitleTextField.getText();
            if (retailPriceInDollarsString == null || retailPriceInDollarsString.trim().length() < 1)
            {
                priceAddNewTitleErrorLabel.setText("Please enter a price");
                stopSave = true;
            }
            else
            {
                retailPriceInDollarsString = retailPriceInDollarsString.trim();
            }
            String[] splitRetailPriceInDollars = retailPriceInDollarsString.split(".");
            if (splitRetailPriceInDollars.length > 2)   // more . than dollars and cents
            {
                priceAddNewTitleErrorLabel.setText("You may only enter up to one decimal point");
                stopSave = true;
            }
            final int DOLLARS_FIELD = 0;
            final int CENTS_FIELD = 1;
            if (splitRetailPriceInDollars[CENTS_FIELD].length() > 2)
            {
                priceAddNewTitleErrorLabel.setText("You are limited to two digits for cents");
                stopSave = true;
            }
            int retailPriceInCents = 0;
            try
            {
                retailPriceInCents = Integer.parseInt(splitRetailPriceInDollars[DOLLARS_FIELD]) * 100;
                retailPriceInCents += Integer.parseInt(splitRetailPriceInDollars[CENTS_FIELD]);
            }
            catch (NumberFormatException exception)
            {
                priceAddNewTitleErrorLabel.setText("Please enter only digits and one decimal point");
                stopSave = true;
            }
            String format = mediaTypeAddNewTitleTextField.getText();
            if (format == null || format.trim().length() < 1)
            {
                formatAddNewTitleErrorLabel.setText("Please enter a format");
                stopSave = true;
            }
            else
            {
                format = format.trim();
            }
            int length = 0;
            try
            {
                length = Integer.parseInt(retailPriceAddNewTitleTextField.getText());
            }
            catch (NumberFormatException exception)
            {
                lengthAddNewTitleErrorLabel.setText("Please only enter digits");
                stopSave = true;
            }
            if (!stopSave)
            {
                /*
                 * Constructor for GeneralMovie
                 * public GeneralMovie
                    (String SKU,
                    String title,
                    String[] actors,
                    String director,
                    String producer,
                    GregorianCalendar releaseDate,
                    String synopsis,
                    String genre,
                    String rating,
                    String studio,
                    int retailPriceInCents,
                    String format,
                    int runtime)
                 */
                GeneralMovie movie = new GeneralMovie(SKU, title, validActors,
                        director, producer, releaseDate, synopsis, genre,
                        rating, studio, retailPriceInCents, format, length);
                MovieManagement.createGeneralMovie(movie);
            }
        } // end try
        catch (IllegalArgumentException exception)
        {
            if (exception.getMessage().equalsIgnoreCase("not a valid rating"))
            {
                ratingAddNewTitleErrorLabel.setText(exception.getMessage());
            }
            else
            {
                JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
            }
        }
        catch (MovieExistsException exception)
        {
            JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
        }
        catch (SQLException exception)
        {
            JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
        }
        catch (ClassNotFoundException exception)
        {
            JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
        }
        catch (MovieLimitReachedException exception)
        {
            JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
        }
        catch (Exception exception)
        {
            JOptionPane.showMessageDialog(null, exception.getMessage(), "", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_saveAddNewTitleButtonActionPerformed

    private void titleAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_titleAddNewTitleTextFieldKeyPressed
        titleAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_titleAddNewTitleTextFieldKeyPressed

    private void skuAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_skuAddNewTitleTextFieldKeyPressed
        skuAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_skuAddNewTitleTextFieldKeyPressed

    private void mediaTypeAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_mediaTypeAddNewTitleTextFieldKeyPressed
        formatAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_mediaTypeAddNewTitleTextFieldKeyPressed

    private void genreAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_genreAddNewTitleTextFieldKeyPressed
        genreAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_genreAddNewTitleTextFieldKeyPressed

    private void producerAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_producerAddNewTitleTextFieldKeyPressed
        producerAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_producerAddNewTitleTextFieldKeyPressed

    private void directorAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_directorAddNewTitleTextFieldKeyPressed
        directorAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_directorAddNewTitleTextFieldKeyPressed

    private void actorsAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_actorsAddNewTitleTextFieldKeyPressed
        actorsAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_actorsAddNewTitleTextFieldKeyPressed

    private void studioAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_studioAddNewTitleTextFieldKeyPressed
        studioAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_studioAddNewTitleTextFieldKeyPressed

    private void ratingAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_ratingAddNewTitleTextFieldKeyPressed
        ratingAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_ratingAddNewTitleTextFieldKeyPressed

    private void lengthAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_lengthAddNewTitleTextFieldKeyPressed
        lengthAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_lengthAddNewTitleTextFieldKeyPressed

    private void retailPriceAddNewTitleTextFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_retailPriceAddNewTitleTextFieldKeyPressed
        priceAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_retailPriceAddNewTitleTextFieldKeyPressed

    private void descriptionAddNewTitleTextAreaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_descriptionAddNewTitleTextAreaKeyPressed
        synopsisAddNewTitleErrorLabel.setText("");
    }//GEN-LAST:event_descriptionAddNewTitleTextAreaKeyPressed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                AddNewTitleDialog dialog = new AddNewTitleDialog(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton CancelAddNewTitleButton;
    private javax.swing.JLabel actorTypeAddNewTitleLabel;
    private javax.swing.JLabel actorsAddNewTitleErrorLabel;
    private javax.swing.JTextField actorsAddNewTitleTextField;
    private javax.swing.JTextArea descriptionAddNewTitleTextArea;
    private javax.swing.JLabel directorAddNewTitleErrorLabel;
    private javax.swing.JTextField directorAddNewTitleTextField;
    private javax.swing.JLabel directorTypeAddNewTitleLabel;
    private javax.swing.JLabel dollarSignAddNewTitleLabel;
    private javax.swing.JLabel formatAddNewTitleErrorLabel;
    private javax.swing.JLabel genreAddNewTitleErrorLabel;
    private javax.swing.JTextField genreAddNewTitleTextField;
    private javax.swing.JLabel genreTypeAddNewTitleLabel;
    private javax.swing.JLabel infoTypeAddNewTitleLabel;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lengthAddNewTitleErrorLabel;
    private javax.swing.JTextField lengthAddNewTitleTextField;
    private javax.swing.JLabel lengthLabelMinutesAddNewTitle;
    private javax.swing.JLabel lengthTypeAddNewTitleLabel;
    private javax.swing.JLabel mediaTypeAddNewTitleLabel;
    private javax.swing.JTextField mediaTypeAddNewTitleTextField;
    private javax.swing.JLabel priceAddNewTitleErrorLabel;
    private javax.swing.JLabel producerAddNewTitleErrorLabel;
    private javax.swing.JTextField producerAddNewTitleTextField;
    private javax.swing.JLabel producerTypeAddNewTitleLabel;
    private javax.swing.JLabel ratingAddNewTitleErrorLabel;
    private javax.swing.JTextField ratingAddNewTitleTextField;
    private javax.swing.JLabel ratingTypeAddNewTitleLabel;
    private javax.swing.JTextField retailPriceAddNewTitleTextField;
    private javax.swing.JLabel retailPriceAddNewTitleTextLabel;
    private javax.swing.JButton saveAddNewTitleButton;
    private javax.swing.JLabel skuAddNewTitleErrorLabel;
    private javax.swing.JLabel skuAddNewTitleLabel;
    private javax.swing.JTextField skuAddNewTitleTextField;
    private javax.swing.JLabel studioAddNewTitleErrorLabel;
    private javax.swing.JTextField studioAddNewTitleTextField;
    private javax.swing.JLabel studioTypeAddNewTitleLabel;
    private javax.swing.JLabel synopsisAddNewTitleErrorLabel;
    private javax.swing.JLabel titleAddNewTitleErrorLabel;
    private javax.swing.JTextField titleAddNewTitleTextField;
    private javax.swing.JLabel titleTypeAddNewTitleLabel;
    private javax.swing.JLabel yearAddNewTitleErrorLabel;
    public javax.swing.JSpinner yearAddNewTitleSpinner;
    private javax.swing.JLabel yearTypeAddNewTitleLabel;
    // End of variables declaration//GEN-END:variables

}
